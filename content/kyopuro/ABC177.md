---
title: "ABC177の解説"
date: 2020-08-30T16:35:35+09:00
draft: false
---

5完．
[コード](https://github.com/T45K/kyopuro/tree/master/AtCoder/ABC/ABC177)

## A - Don't be late
規定の時間歩き切った際の距離が待ち合わせ場所までの距離以上であれば良い．

## B - Substring
制約が緩いのでSの0以上`|S|-|T|`以下文字を先頭とした部分文字列とTを比較すれば良い．

## C - Sum of product of pairs
愚直にやると時間に間に合わない．<br>
答えは`A1 * (A2 + A3 + ... An) + A2 * (A3 + ... + An) + ... + Ai * (Ai+1 + ... + An) + ...`なので，
A2からAnまでの累積和を取ってから掛け算を行えば良い．

## D - Friends
Union-Findで殴る．<br>
問題文から，Union-Findを使うと友達グループは簡単に求まる．
**全ての人について「同じグループの中に友達がいない」という状況**を達成するためには，
一番大きい友達グループと同じサイズのグループに分割すれば良い．

## E - Coprime
まず全てのAiに対してGCDをとって，与えられた数字列が**not coprime**か否かを判定する．
not coprime出ない場合，次に**pairwise coprime**かどうかを判定する．
ここで，**「全ての組が互いに素である」とは，与えられた数字列の数字を素因数分解した際に，素数が約数となるのは高々1回まで**と同意である．
Ai<=10^6から，素数の最大値は1000以下，あるいは1000以下の素数で割り切った後に残る数字（1以外）となる．
なので，先に1000以下の素数をエラトステネスの篩などで用意しておき，
各Aiに対して各素数で割れるかどうかを判定する．
割れる場合，その素数を記録する．
すでに記録した素数で割り切れた場合，互いに素でない数字の組が存在することになる．
