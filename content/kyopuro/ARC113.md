---
title: "ARC113の解説"
date: 2021-02-22T15:03:58+09:00
draft: false
---

ABCの3完で緑パフォ．[コード](https://github.com/T45k/kyopuro/tree/master/AtCoder/ARC/ARC113)

## A - A*B*C

実は一番時間がかかった問題．
Aを固定した時に，BとCの組み合わせは`O(K)`で求まる
（BがNの時，Cは`1~K/N`の値を取りうるので，組み合わせの個数は`K/N`になる）．
よって，Aを1からKまで動かしつつ，`B*C<=K/A`を満たすB*Cの組み合わせを求めることになる．
Aを動かしてもK/Aが変わらないときは，B，Cの組み合わせの個数も変わらない．
なので，B，Cの組み合わせの個数をメモしておく．

個人的には計算量の見積もりが厳しい．
入力を考えるのは簡単なので，とりあえず実装してみて一番時間がかかりそうな入力（2*10^5）を突っ込んで時間計ってみるのが良さそう．

## B - A^B^C

A^B^Cの1の位は10で割った余りなので，(A%10)^B^Cと答えは同じ．
次にA%10の累乗の1の位がループする回数を求める．
例えば，2の場合，2の累乗の1の位は`2 -> 4 -> 8 -> 6 ->  2`と4回毎にループすることが分かる．
これから，ループする回数をNとすると，B^CをNで割った余りを求めれば良い．
繰り返し二乗法を使えば`O(log(C))`で`B^C % N`を求められるので十分間に合う．

## C - String Invasion

あるアルファベット`α`が二回連続で並んでいるときに，その後ろにあるアルファベットを全て`α`に置換できると考えると楽．
このとき，αの後ろにある全てのアルファベットの内，αではないアルファベットの個数回操作を行える．
この操作はなるべく後ろからしていくのが最適なので，以下の手順で解けばよい．

1. 後ろからアルファベットを見ていく．この時，アルファベットの種類毎の個数を記録する．
2. 二回連続しているアルファベット`α`があれば，これまで記録してきた`α`ではないアルファベットの個数回操作を行える．
3. 操作を行うと，今見ている以降の全てのアルファベットが`α`になるので，そのように個数を記録し直す．
