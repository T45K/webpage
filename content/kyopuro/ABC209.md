---
title: "ABC209の解説"
date: 2021-07-10T23:14:52+09:00
draft: false
---

四完速解きで青パフォ．
[コード](https://github.com/T45K/kyopuro/tree/master/AtCoder/ABC/ABC209)

## A - Counting
基本的には`B-A-1`だが，`A>B`の時に限り0となる.
`max(B-A-1, 0)`とすれば多少は楽．

## B - Can you buy them all?
偶数番目の商品だけ-1して総和を計算するだけ．

## C - Not Equal
まず，整数列を昇順にソートしても求めたい値は変わらない．<br>
1番目の値は全ての値から選ぶことができる．
2番目の値は1番目に選んだ値以外の値を選ぶので，`C2 - 1`通りから選べる．
このとき，昇順にソートしているので選ぶ値の上限を考える必要がない．
このように考えると，i番目の値は`Ci - (i-1)`から選ぶことができる．
このとき，`(i-1) >= Ci`となると値を選べなくなるので答えは0になる．<br>
そうでない場合，答えは全ての選べる値を掛け合わせた値になる．

## D - Collision
問題文から，与えられたグラフが木構造であることが分かる．<br>
木構造の場合，ある節点(a,b)の距離の偶奇は，頂点を一つ定めたときの`(頂点からaまでの距離)-(頂点からbまでの距離)`となる．<br>
これは，例えば(a,b)の最小共通祖先をc，頂点（適当な節点）をd，二つの節点の距離を`dis(x,y)`と表す時，`(頂点からaまでの距離)-(頂点からbまでの距離)`の偶奇は

```
(dis(d,a) - dis(d,b)) % 2 
= (dis(d,c) + dis(c,a) + dis(d,c) + dis(c,b)) % 2
= (dis(d,c) * 2 + dis(c,a) + dis(c,b)) % 2
= (dis(c,a) + dis(c,b)) % 2
```

でa，b間の距離の偶奇と一致するからである．
